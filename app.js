var express 	= require('express'),
	app 		= express(),
    bodyParser 	= require('body-parser'),
    mongoose    = require("mongoose");

mongoose.connect("mongodb://localhost:27017/yelp_camp",{useNewUrlParser: true , useUnifiedTopology: true });

app.use(bodyParser.urlencoded({extended:true}));
app.set("view engine","ejs");

//SCHEMA SETUP
var campgroundSchema = new mongoose.Schema({
	name: String,
	image: String,
	description: String
});

var Campground = mongoose.model("Campground",campgroundSchema);

// Campground.create({
// 	name : "Shriek ground" , 
// 	image : "https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRpsLwup_hBxhVHTvwPWF-eB4BsVnTKEyfKcw&usqp=CAU",
// 	description: "This is huge Ground "
// 	},
// 	function(err, campground){
// 	if(err){
// 		console.log("SOMETHING WENT WRONG");
// 		console.log(err);
// 	}else{
// 		console.log("Newly Created Campground");
// 		console.log(campground);
// 	}
// });

// var campgrounds = [
// 	{name : "Shriek ground" , image : "https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRpsLwup_hBxhVHTvwPWF-eB4BsVnTKEyfKcw&usqp=CAU"}, 
// 	{name : "Mountains Of Rest" , image : "data:image/jpeg;base64,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"},
// 	{name : "Plateaus of Paris" , image : "https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQlf7ZorwuYQ4EXiOUCgh2v2FAIMtQzf8dvuQ&usqp=CAU"}
// ];

app.get('/',function(req, res){
	res.render("landing");
}); 

//INDEX - Show all campgrounds
app.get('/campgrounds',function(req, res){
	//get all campgrounds from db
	Campground.find({},function(err, allCampgrounds){
		if(err){
			console.log(err);
		}else{
			res.render("index", {campgrounds: allCampgrounds});
		}
	})
	
});

//CREATE - Create a  new campground
app.post('/campgrounds',function(req, res){
	var name = req.body.campground;
	var image = req.body.image;
	var desc = req.body.description;
	var newCampground = {name : name, image: image, description: desc};
	//campgrounds.push(newCampground)

	//create a new campground and save to DB
	Campground.create(newCampground,function(err, newlyCreated){
		if(err){
			console.log(err);
		}
		else{
			console.log(newlyCreated);
		}
	})
	res.redirect("/campgrounds");
});

//NEW - show form to create new campground
app.get('/campgrounds/new',function(req, res){
	res.render('new');
});

// SHOW - showws more info about one campground 
app.get("/campgrounds/:id",function(req, res){
	//find the campground with provided ID
	Campground.findById(req.params.id,function(err, foundCampground){
		if(err){
			console.log(err);
		}else{
			//render show tempelate with that campground
			res.render('show',{campground: foundCampground});	
		}
	});	
});

app.listen(3000,function(){
	console.log("serving on 3000 port");
	console.log("Yelpcamp has started!!!");
})